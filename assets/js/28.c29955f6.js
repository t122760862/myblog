(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{293:function(a,t,s){"use strict";s.r(t);var e=s(13),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"数组的最大长度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数组的最大长度"}},[a._v("#")]),a._v(" 数组的最大长度")]),a._v(" "),t("p",[a._v("数组最大可以存储 "),t("code",[a._v("2^32")]),a._v(" 个值,因此"),t("code",[a._v("length")]),a._v("最大值为 "),t("code",[a._v("2^32 - 1")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("number")]),a._v(" 最大值为 "),t("code",[a._v("2^53 -1")]),a._v(", 遵循"),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/IEEE_754",target:"_blank",rel:"noopener noreferrer"}},[a._v("IEE 754规范"),t("OutboundLink")],1),a._v(",使用 "),t("code",[a._v("64bit")]),a._v("位存储二进制数据,其中 1 位符号位,11 位指数位,又因为最后一位固定为 1,可以省略,因此最大值为"),t("code",[a._v("2^53 -1")])])]),a._v(" "),t("h3",{attrs:{id:"为什么数组可以存储任意类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么数组可以存储任意类型"}},[a._v("#")]),a._v(" 为什么数组可以存储任意类型")]),a._v(" "),t("p",[a._v("这里引用大佬的话:")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// The JSArray describes JavaScript Arrays ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//  Such an array can be in one of two modes: ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//    - fast, backing storage is a FixedArray and length <= elements.length(); ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//       Please note: push and pop can be used to grow and shrink the array. ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//    - slow, backing storage is a HashTable with numbers as keys. ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JSArray")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" JSObject "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("  \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// [length]: The length property. ")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("DECL_ACCESSORS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" Object"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("  \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 。。。此处省略实现  ")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Number of element slots to pre-allocate for an empty array. ")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" int kPreallocatedArrayElements "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("blockquote",[t("p",[a._v("可以看出 JSArray 是继承自 JSObject 的，所以在 JavaScript 中，数组可以是一个特殊的对象，内部也是以 key-value 形式存储数据，所以 JavaScript 中的数组可以存放不同类型的值。")])]),a._v(" "),t("p",[a._v("似懂非懂,有大佬解释下吗?")]),a._v(" "),t("h3",{attrs:{id:"数组的存储方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数组的存储方式"}},[a._v("#")]),a._v(" 数组的存储方式")]),a._v(" "),t("p",[a._v("两种实现模式:")]),a._v(" "),t("h4",{attrs:{id:"快数组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快数组"}},[a._v("#")]),a._v(" 快数组")]),a._v(" "),t("ul",[t("li",[a._v("可以使用索引直接定位,使用连续的内存空间,如.当数组满的时候,继续"),t("code",[a._v("push")]),a._v("时自动进行扩容.")]),a._v(" "),t("li",[a._v("是数组创建的默认模式.")])]),a._v(" "),t("h4",{attrs:{id:"慢数组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#慢数组"}},[a._v("#")]),a._v(" 慢数组")]),a._v(" "),t("ul",[t("li",[a._v("以哈希表的形式存储在内存空间里,维护一个哈希表,不需要开辟连续的内存空间,与快数组相比性能较差")])]),a._v(" "),t("h4",{attrs:{id:"快数组与慢数组之间的转换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快数组与慢数组之间的转换"}},[a._v("#")]),a._v(" 快数组与慢数组之间的转换")]),a._v(" "),t("ul",[t("li",[a._v("当快数组新加入的索引相比之前容量的差值"),t("code",[a._v(">=1024")])]),a._v(" "),t("li",[a._v("快数组新容量是扩容后容量的三倍之多时")])]),a._v(" "),t("h3",{attrs:{id:"数组的扩容以及缩容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数组的扩容以及缩容"}},[a._v("#")]),a._v(" 数组的扩容以及缩容")]),a._v(" "),t("h4",{attrs:{id:"扩容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#扩容"}},[a._v("#")]),a._v(" 扩容")]),a._v(" "),t("ul",[t("li",[a._v("申请 "),t("code",[a._v("new_capacity = old_capacity / 2 + old_capacity + 16")]),a._v("长度的空间")]),a._v(" "),t("li",[a._v("将数组拷贝到新内存中")]),a._v(" "),t("li",[a._v("将新元素放置在末尾位置")]),a._v(" "),t("li",[a._v("数组的 "),t("code",[a._v("length + 1")]),a._v("并返回")])]),a._v(" "),t("h4",{attrs:{id:"缩容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#缩容"}},[a._v("#")]),a._v(" 缩容")]),a._v(" "),t("p",[a._v("时机: 当数组元素减少后, 如果数组的容量大于等于 length 的两倍,则进行缩容操作,")])])}),[],!1,null,null,null);t.default=r.exports}}]);