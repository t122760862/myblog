(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{307:function(s,a,n){"use strict";n.r(a);var e=n(13),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"_1-定义一个context对象-并暴露出去"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-定义一个context对象-并暴露出去"}},[s._v("#")]),s._v(" 1. 定义一个context对象,并暴露出去")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("export const DataContext = React.createContext(initData)\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_2-在需要传递的地方注入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-在需要传递的地方注入"}},[s._v("#")]),s._v(" 2. 在需要传递的地方注入")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<DataContext.Provider value={data}>\n        {children}\n      </DataContext.Provider>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_3-在需要使用的地方消费"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-在需要使用的地方消费"}},[s._v("#")]),s._v(" 3. 在需要使用的地方消费")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 首先引入之前暴露的context对象\n\nimport { DataContext } from './setEquipment'\n\n\n// 然后在需要使用的组件用consumer包裹\n\n<DataContext.Consumer>                \n    {(value: DevType) => Node(value)}</DataContext.Consumer>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("注意：当前组件如果需要使用context传递的内容，需要用函数来返回组件内容，函数接受一个参数为context传递的内容")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\n const Node = (data: DevType) =>(\n    <>\n      <Button onClick={() => setReviseModal(true)} className="marginBottom10" type="primary">\n        修改\n      </Button>\n      <Descriptions className="cus-descriptions">\n        <Descriptions.Item label="分类编码">{data.devtypeCode}</Descriptions.Item>\n        <Descriptions.Item label="分类名称">{data.devtypeName}</Descriptions.Item>\n        <Descriptions.Item label="基础设施系统">{data.sysName}</Descriptions.Item>\n        <Descriptions.Item label="产品分类">{data.maintypeName}</Descriptions.Item>\n        <Descriptions.Item label="创建时间" span={2}>\n          {data.createTime}\n        </Descriptions.Item>\n        <Descriptions.Item label="备注" span={3}>\n          {data.remark}\n        </Descriptions.Item>\n      </Descriptions>\n      <ReviseInfoModalForm\n        data={data}\n        isShowReviseModal={isShowReviseModal}\n        changeStatus={setReviseModal}\n      />\n    </>\n  )\n\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);