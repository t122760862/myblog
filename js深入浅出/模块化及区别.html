<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CommonJS | 无来</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="喵巨人学习笔记，包含前端开发、后端开发、服务器运维等">
    
    <link rel="preload" href="/assets/css/0.styles.9825735b.css" as="style"><link rel="preload" href="/assets/js/app.b1ceb87a.js" as="script"><link rel="preload" href="/assets/js/2.dc5a3d57.js" as="script"><link rel="preload" href="/assets/js/21.bc230ce5.js" as="script"><link rel="prefetch" href="/assets/js/10.d20efabc.js"><link rel="prefetch" href="/assets/js/11.6332ad67.js"><link rel="prefetch" href="/assets/js/12.b4a6d434.js"><link rel="prefetch" href="/assets/js/13.9bcfdc6f.js"><link rel="prefetch" href="/assets/js/14.b3f3cf47.js"><link rel="prefetch" href="/assets/js/15.c7b3a34d.js"><link rel="prefetch" href="/assets/js/16.bdfab345.js"><link rel="prefetch" href="/assets/js/17.3f94594e.js"><link rel="prefetch" href="/assets/js/18.d62bd910.js"><link rel="prefetch" href="/assets/js/19.0bffe270.js"><link rel="prefetch" href="/assets/js/20.26fba023.js"><link rel="prefetch" href="/assets/js/22.7c254f6e.js"><link rel="prefetch" href="/assets/js/23.90e2dcab.js"><link rel="prefetch" href="/assets/js/24.d060e7a1.js"><link rel="prefetch" href="/assets/js/25.41302e5e.js"><link rel="prefetch" href="/assets/js/26.9c9a6254.js"><link rel="prefetch" href="/assets/js/27.3583fe00.js"><link rel="prefetch" href="/assets/js/28.bd5344f3.js"><link rel="prefetch" href="/assets/js/29.2ae39443.js"><link rel="prefetch" href="/assets/js/3.496155bf.js"><link rel="prefetch" href="/assets/js/30.241639f7.js"><link rel="prefetch" href="/assets/js/31.b5cbb497.js"><link rel="prefetch" href="/assets/js/32.5732facd.js"><link rel="prefetch" href="/assets/js/33.af610e19.js"><link rel="prefetch" href="/assets/js/34.c0c11283.js"><link rel="prefetch" href="/assets/js/35.3f2b1c1b.js"><link rel="prefetch" href="/assets/js/36.08744dc8.js"><link rel="prefetch" href="/assets/js/37.6f8bce4a.js"><link rel="prefetch" href="/assets/js/38.28686f08.js"><link rel="prefetch" href="/assets/js/39.2e0baa59.js"><link rel="prefetch" href="/assets/js/4.43879640.js"><link rel="prefetch" href="/assets/js/40.c56df018.js"><link rel="prefetch" href="/assets/js/41.90217eb2.js"><link rel="prefetch" href="/assets/js/42.94a52d3b.js"><link rel="prefetch" href="/assets/js/43.876f89ae.js"><link rel="prefetch" href="/assets/js/44.f120de0a.js"><link rel="prefetch" href="/assets/js/45.81fb8787.js"><link rel="prefetch" href="/assets/js/46.d8c7c3fd.js"><link rel="prefetch" href="/assets/js/47.068fffd6.js"><link rel="prefetch" href="/assets/js/48.eef37724.js"><link rel="prefetch" href="/assets/js/49.fd797564.js"><link rel="prefetch" href="/assets/js/5.60572b82.js"><link rel="prefetch" href="/assets/js/50.e291ff87.js"><link rel="prefetch" href="/assets/js/51.34268a37.js"><link rel="prefetch" href="/assets/js/52.c3696398.js"><link rel="prefetch" href="/assets/js/53.b648620c.js"><link rel="prefetch" href="/assets/js/54.f8f70714.js"><link rel="prefetch" href="/assets/js/55.6a0cf27a.js"><link rel="prefetch" href="/assets/js/56.a60c03ca.js"><link rel="prefetch" href="/assets/js/57.8ba7ae3c.js"><link rel="prefetch" href="/assets/js/58.1f7f9c42.js"><link rel="prefetch" href="/assets/js/59.682dc35d.js"><link rel="prefetch" href="/assets/js/6.22f00265.js"><link rel="prefetch" href="/assets/js/60.a291901e.js"><link rel="prefetch" href="/assets/js/7.2c4bf3fe.js"><link rel="prefetch" href="/assets/js/8.86337e4e.js"><link rel="prefetch" href="/assets/js/9.557cd689.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9825735b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">无来</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/docker/" class="sidebar-heading clickable"><span>docker</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docker/docker+jenkins自动化部署.html" class="sidebar-link">docker+jenkins自动化部署</a></li><li><a href="/docker/记录一次docker的学习.html" class="sidebar-link">记录一次docker的学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/js深入浅出/" class="sidebar-heading clickable open"><span>js深入浅出</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/js深入浅出/es6-let和const.html" class="sidebar-link">es6-let和const</a></li><li><a href="/js深入浅出/es6-箭头函数.html" class="sidebar-link">es6-箭头函数</a></li><li><a href="/js深入浅出/js-new的原理.html" class="sidebar-link">js-new的原理</a></li><li><a href="/js深入浅出/js-原型.html" class="sidebar-link">js-原型</a></li><li><a href="/js深入浅出/map,setMap以及set,wekSet的区别.html" class="sidebar-link">map,setMap以及set,wekSet的区别</a></li><li><a href="/js深入浅出/null 和 undefined 的区别.html" class="sidebar-link">null 和 undefined 的区别</a></li><li><a href="/js深入浅出/sort 的内部实现.html" class="sidebar-link">sort 的内部实现</a></li><li><a href="/js深入浅出/函数执行过程.html" class="sidebar-link">函数执行过程</a></li><li><a href="/js深入浅出/判断类型.html" class="sidebar-link">判断类型</a></li><li><a href="/js深入浅出/数组的冷知识.html" class="sidebar-link">数组的冷知识</a></li><li><a href="/js深入浅出/模块化及区别.html" class="active sidebar-link">模块化及区别</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/nginx/" class="sidebar-heading clickable"><span>nginx</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/nginx/nginx 添加环境变量.html" class="sidebar-link">nginx 添加环境变量</a></li><li><a href="/nginx/记录一次nginx反向代理跨域的学习.html" class="sidebar-link">记录一次nginx反向代理跨域的学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/react/" class="sidebar-heading clickable"><span>react</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/react/umi中 react嵌套路由父给子路由传参.html" class="sidebar-link">umi中 react嵌套路由父给子路由传参</a></li><li><a href="/react/使用context.html" class="sidebar-link">使用context</a></li><li><a href="/react/解决react路由参数报错.html" class="sidebar-link">解决react路由参数报错</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/vue/" class="sidebar-heading clickable"><span>vue</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/使用动态插槽灵活封装 table 组件.html" class="sidebar-link">使用动态插槽灵活封装 table 组件</a></li><li><a href="/vue/开发心得-自定义指令的妙用.html" class="sidebar-link">开发心得-自定义指令的妙用</a></li><li><a href="/vue/详解 computed 的实现原理.html" class="sidebar-link">详解 computed 的实现原理</a></li><li><a href="/vue/详解 watch 的实现原理.html" class="sidebar-link">详解 watch 的实现原理</a></li><li><a href="/vue/详解响应式原理.html" class="sidebar-link">详解响应式原理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/webpack/" class="sidebar-heading clickable"><span>webpack</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack/webpack 模块化源码分析.html" class="sidebar-link">webpack 模块化源码分析</a></li><li><a href="/webpack/打包情况视图.html" class="sidebar-link">打包情况视图</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/代码片段/" class="sidebar-heading clickable"><span>代码片段</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/代码片段/mac 文件损坏无法打开问题.html" class="sidebar-link">mac 文件损坏无法打开问题</a></li><li><a href="/代码片段/npm, yarn 配置淘宝源.html" class="sidebar-link">npm, yarn 配置淘宝源</a></li><li><a href="/代码片段/vue-高阶组件.html" class="sidebar-link">vue-高阶组件</a></li><li><a href="/代码片段/下载图片或文件.html" class="sidebar-link">下载图片或文件</a></li><li><a href="/代码片段/使用 background 画虚线.html" class="sidebar-link">使用 background 画虚线</a></li><li><a href="/代码片段/使用 require.context 自动注册全局组件.html" class="sidebar-link">context 自动注册全局组件</a></li><li><a href="/代码片段/元素垂直拖动.html" class="sidebar-link">元素垂直拖动</a></li><li><a href="/代码片段/在HTML中根据当前环境插入不同 js 文件.html" class="sidebar-link">在HTML中根据当前环境插入不同 js 文件</a></li><li><a href="/代码片段/自定义 ElementUi-tooltip 的悬浮位置.html" class="sidebar-link">自定义 ElementUi-tooltip 的悬浮位置</a></li><li><a href="/代码片段/记录一次代码提交前的拦截操作.html" class="sidebar-link">记录一次代码提交前的拦截操作</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/基础知识/" class="sidebar-heading clickable"><span>基础知识</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/基础知识/css 加载会阻塞浏览器的执行吗.html" class="sidebar-link">css 加载会阻塞浏览器的执行吗</a></li><li><a href="/基础知识/tcp、udp的区别以及七层模型.html" class="sidebar-link">tcp、udp的区别以及七层模型</a></li><li><a href="/基础知识/vue 和 react 的区别.html" class="sidebar-link">vue 和 react 的区别</a></li><li><a href="/基础知识/性能指标.html" class="sidebar-link">性能指标</a></li><li><a href="/基础知识/浏览器输入url后发生了什么.html" class="sidebar-link">浏览器输入url后发生了什么</a></li><li><a href="/基础知识/理解 node 中的几个路径.html" class="sidebar-link">理解 node 中的几个路径</a></li><li><a href="/基础知识/记录一次SameSite的问题.html" class="sidebar-link">记录一次SameSite的问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/奇奇怪怪的知识点/" class="sidebar-heading clickable"><span>奇奇怪怪的知识点</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/奇奇怪怪的知识点/一个会卡死的正则.html" class="sidebar-link">一个会卡死的正则</a></li><li><a href="/奇奇怪怪的知识点/为什么数组中不能展开一个对象.html" class="sidebar-link">为什么数组中不能展开一个对象</a></li><li><a href="/奇奇怪怪的知识点/为什么要使用 require 引入动态图片.html" class="sidebar-link">为什么要使用 require 引入动态图片</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/手写系列/" class="sidebar-heading clickable"><span>手写系列</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/手写系列/实现一个 Vuex 核心功能.html" class="sidebar-link">实现一个 Vuex 核心功能</a></li><li><a href="/手写系列/实现一个 tcp 以及 http 服务.html" class="sidebar-link">实现一个 tcp 以及 http 服务</a></li><li><a href="/手写系列/实现一个千分位分隔符.html" class="sidebar-link">实现一个千分位分隔符</a></li><li><a href="/手写系列/手写call,bind,apply.html" class="sidebar-link">手写call,bind,apply</a></li><li><a href="/手写系列/装饰器.html" class="sidebar-link">装饰器</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/算法/" class="sidebar-heading clickable"><span>算法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/算法/子集,全排列.html" class="sidebar-link">子集,全排列</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> CommonJS</h3> <ul><li><p><strong>Node.js</strong>是commonJS规范的主要实践者，它有四个重要的环境变量为模块化的实现提供支持：module、exports、require、global。实际使用时，用module.exports定义当前模块对外输出的接口（不推荐直接用exports），用require加载模块。</p></li> <li><p>commonJS用同步的方式加载模块。在服务端，模块文件都存在本地磁盘，读取非常快，所以这样做不会有问题。但是在浏览器端，限于网络原因，更合理的方案是使用异步加载。</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token comment">// 定义模块math.js var basicNum = 0; function add(a, b) { return a + b; } module.exports = { //在这里写上需要向外暴露的函数、变量 add: add, basicNum: basicNum } // 引用自定义的模块时，参数包含路径，可省略.js var math = require('./math'); math.add(2, 5); // 引用核心模块时，不需要带路径 var http = require('http'); http.createService(...).listen(3000);</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="amd和require-js"><a href="#amd和require-js" class="header-anchor">#</a> AMD和require.js</h3> <ul><li><p>AMD规范采用异步方式加载模块，模块的加载不影响它后面语句的运行。所有依赖这个模块的语句，都定义在一个回调函数中，等到加载完成之后，这个回调函数才会运行。</p></li> <li><p>引用模块的时候，我们将模块名放在[]中作为reqiure()的第一参数；如果我们定义的模块本身也依赖其他模块,那就需要将它们放在[]中作为define()的第一参数。</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>
// 定义math.js模块

define(function () {

var basicNum = 0;

var add = function (x, y) {

return x + y;

};

return {

add: add,

basicNum :basicNum

};

});

// 定义一个依赖underscore.js的模块

define(['underscore'],function(_){

var classify = function(list){

_.countBy(list,function(num){

return num &gt; 30 ? 'old' : 'young';

})

};

return {

classify :classify

};

})

// 引用模块，将模块放在[]内

require(['jquery', 'math'],function($, math){

var sum = math.add(10,20);

$(&quot;#sum&quot;).html(sum);

});

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h3 id="cmd和sea-js"><a href="#cmd和sea-js" class="header-anchor">#</a> CMD和sea.js</h3> <p>CMD是另一种js模块化方案，它与AMD很类似，不同点在于：AMD 推崇依赖前置、提前执行，CMD推崇依赖就近、延迟执行。此规范其实是在sea.js推广过程中产生的.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
/** AMD写法 **/

define([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;], function(a, b, c, d, e, f) {

// 等于在最前面声明并初始化了要用到的所有模块

a.doSomething();

if (false) {

// 即便没用到某个模块 b，但 b 还是提前执行了

b.doSomething()

}

});

/** CMD写法 **/

define(function(require, exports, module) {

var a = require('./a'); //在需要时申明

a.doSomething();

if (false) {

var b = require('./b');

b.doSomething();

}

});

/** sea.js **/

// 定义模块 math.js

define(function(require, exports, module) {

var $ = require('jquery.js');

var add = function(a,b){

return a+b;

}

exports.add = add;

});

// 加载模块

seajs.use(['math.js'], function(math){

var sum = math.add(1+2);

});

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><h3 id="es6-module"><a href="#es6-module" class="header-anchor">#</a> ES6 Module</h3> <ul><li>ES6的模块不是对象，import命令会被 JavaScript 引擎静态分析，在编译时就引入模块代码，而不是在代码运行时加载，所以无法实现条件加载。也正因为这个，使得静态分析成为可能。</li></ul> <h3 id="es6-模块与-commonjs-模块的差异"><a href="#es6-模块与-commonjs-模块的差异" class="header-anchor">#</a> ES6 模块与 CommonJS 模块的差异</h3> <h4 id="_1-commonjs-模块输出的是一个值的拷贝-es6-模块输出的是值的引用。"><a href="#_1-commonjs-模块输出的是一个值的拷贝-es6-模块输出的是值的引用。" class="header-anchor">#</a> 1. CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。</h4> <ul><li><p>CommonJS 模块输出的是值的拷贝，也就是说，一旦输出一个值，模块内部的变化就影响不到这个值。</p></li> <li><p>ES6 模块的运行机制与 CommonJS 不一样。JS 引擎对脚本静态分析的时候，遇到模块加载命令import，就会生成一个只读引用。等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值。换句话说，ES6 的import有点像 Unix 系统的“符号连接”，原始值变了，import加载的值也会跟着变。因此，ES6 模块是动态引用，并且不会缓存值，模块里面的变量绑定其所在的模块。</p></li></ul> <h4 id="_2-commonjs-模块是运行时加载-es6-模块是编译时输出接口。"><a href="#_2-commonjs-模块是运行时加载-es6-模块是编译时输出接口。" class="header-anchor">#</a> 2. CommonJS 模块是运行时加载，ES6 模块是编译时输出接口。</h4> <ul><li><p>运行时加载: CommonJS 模块就是对象；即在输入时是先加载整个模块，生成一个对象，然后再从这个对象上面读取方法，这种加载称为“运行时加载”。</p></li> <li><p>编译时加载: ES6 模块不是对象，而是通过 export 命令显式指定输出的代码，import时采用静态命令的形式。即在import时可以指定加载某个输出值，而不是加载整个模块，这种加载称为“编译时加载”。</p></li></ul> <p>CommonJS 加载的是一个对象（即module.exports属性），该对象只有在脚本运行完才会生成。而 ES6 模块不是对象，它的对外接口只是一种静态定义，在代码静态解析阶段就会生成。</p> <h3 id="umd"><a href="#umd" class="header-anchor">#</a> UMD</h3> <ul><li><p>UMD（Universal Module Definition）是AMD和CommonJS的糅合，跨平台的解决方案。</p></li> <li><p>AMD模块以浏览器第一的原则发展，异步加载模块。</p></li> <li><p>CommonJS模块以服务器第一原则发展，选择同步加载，它的模块无需包装(unwrapped modules)。</p></li> <li><p>UMD先判断是否支持Node.js的模块（exports）是否存在，存在则使用Node.js模块模式。再判断是否支持AMD（define是否存在），存在则使用AMD方式加载模块。</p></li></ul> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> * 总结</h3> <p><img src="https://cdn.jsdelivr.net/gh/t122760862/blogimg@main/202210171522560.png" alt=""></p> <ul><li><p>commonJS模块就是对象，整体加载模块（即加载的所有方法）</p></li> <li><p>ES6 模块不是对象，而是通过export命令显式指定输出的代码，再通过import命令输入。</p></li> <li><p>export命令规定的是对外的接口，必须与模块内部的变量建立一一对应关系</p></li> <li><p>export语句输出的接口，与其对应的值是动态绑定关系，即通过该接口，可以取到模块内部实时</p></li> <li><p>export命令和import命令可以出现在模块的任何位置，只要处于模块顶层就可以。 如果处于块级作用域内，就会报错，这是因为处于条件代码块之中，就没法做静态优化了，违背了ES6模块的设计初衷。</p></li> <li><p>import命令具有提升效果，会提升到整个模块的头部，首先执行。</p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/11/2023, 1:39:01 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js深入浅出/数组的冷知识.html" class="prev">
        数组的冷知识
      </a></span> <span class="next"><a href="/nginx/nginx 添加环境变量.html">
        nginx 添加环境变量
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b1ceb87a.js" defer></script><script src="/assets/js/2.dc5a3d57.js" defer></script><script src="/assets/js/21.bc230ce5.js" defer></script>
  </body>
</html>
